(this["webpackJsonphotel-safe-box"]=this["webpackJsonphotel-safe-box"]||[]).push([[0],{31:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(0),n=a(6),r=a.n(n),i=(a(31),a(4)),o=function(e){var t=Object(i.c)((function(e){return e})),a=t.isLocked,n=t.status,r=t.password,o=t.isIdle;return Object(c.useEffect)((function(){return function(){}}),[]),Object(s.jsxs)("div",{className:o?"safe-box-display safe-box-display-idle":"safe-box-display",children:[Object(s.jsx)("p",{className:"safe-box-display-locked",children:a?"Locked":"Unlocked"}),Object(s.jsx)("p",{className:"safe-box-display-state",children:r.length?r:n})]})},u=a(12),b=a.n(u),l=a(22),d=a(7),f=[7,8,9,4,5,6,1,2,3,"*",0,"L"],j=3e3,O=a(23),p=a.n(O),x="https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a",m="SET_NEW_PASSWORD",y="SAFE_BOX_LOCKING",v="SAFE_BOX_LOCKED",g="SET_IDLE_STATE",k="SAFE_BOX_UNLOCKED",h="SAFE_BOX_UNLOCKING",w="SAFE_BOX_ERROR",L="ACTIVATE_SERVICE_MODE",S="MASTER_CODE_VALIDATING",E="MASTER_CODE_VALIDATION_SUCCESSFULL",N=function(e){return{type:m,payload:e}},T=function(e){return{type:h,payload:e}},_=function(){return{type:v}},C=function(){return{type:w}},A=function(e){return function(t){t({type:y,payload:e}),setTimeout((function(){t(_())}),j)}},I=function(e){return function(e){e(T()),setTimeout((function(){e({type:k})}),j)}},R=function(e,t){return function(a){a({type:S}),function(e){return p.a.get("".concat(x,"?code=").concat(e))}(e).then((function(e){var s=e.data;setTimeout((function(){s.sn===t?a({type:E}):(a(C()),setTimeout((function(){a(_())}),j))}),j)})).catch((function(){a(C())}))}},D=a.p+"static/media/up-arrow.28048cc3.svg",F=a.p+"static/media/down-arrow.2058f471.svg",M=a.p+"static/media/left-arrow.a972e666.svg",B=a.p+"static/media/right-arrow.d396294f.svg",P=function(e){switch(e){case 8:return Object(s.jsx)("img",{src:D,className:"safe-box-key-subvalue safe-box-key-subvalue-icon",alt:"up-arrow"});case 4:return Object(s.jsx)("img",{src:M,className:"safe-box-key-subvalue safe-box-key-subvalue-icon",alt:"left-arrow"});case 6:return Object(s.jsx)("img",{src:B,className:"safe-box-key-subvalue safe-box-key-subvalue-icon",alt:"right-arrow"});case 2:return Object(s.jsx)("img",{src:F,className:"safe-box-key-subvalue safe-box-key-subvalue-icon",alt:"down-arrow"});case"*":return Object(s.jsx)("span",{className:"safe-box-key-subvalue",children:"B"});case"L":return Object(s.jsx)("span",{className:"safe-box-key-subvalue",children:"A"})}},V=function(e){var t=e.keyValue,a=e.onClickCallback,c=e.disabled,n=Object(i.c)((function(e){return e.isLoading}));return Object(s.jsxs)("div",{className:c||n?"safe-box-key safe-box-key-idle":"safe-box-key","aria-disabled":c,onClick:function(){return a(t)},children:[Object(s.jsx)("h1",{className:"safe-box-key-value",children:t}),P(t)]})},U=function(){var e=Object(i.c)((function(e){return e})),t=e.isLoading,a=e.password,n=e.isLocked,r=e.currentPassword,o=e.isServiceMode,u=e.serialNumber,O=Object(i.b)(),p=Object(c.useState)(null),x=Object(d.a)(p,2),m=x[0],y=x[1],v=Object(c.useState)(null),k=Object(d.a)(v,2),h=k[0],w=k[1],S=Object(c.useState)(null),E=Object(d.a)(S,2),_=E[0],D=E[1];Object(c.useEffect)((function(){y(setTimeout((function(){(6===a.length||a.length>=10)&&!t&&P()}),1200))}),[a]),Object(c.useEffect)((function(){F()}),[]);var F=function(){clearTimeout(_),D(setTimeout((function(){O({type:g})}),5e3))},M=function(){var e=Object(l.a)(b.a.mark((function e(s){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(!o){e.next=8;break}return O(N(s)),F(),clearTimeout(h),w(setTimeout((function(){O(R(a,u))}),j)),e.abrupt("return");case 8:a.length<6&&(F(),O(N(s))),6===a.length&&"L"===s&&(clearTimeout(m),P());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){O({type:L})},P=function(){"000000"!==a||o||!n?n||o?n&&!o&&(a===r?O(I()):(O(T()),setTimeout((function(){O(C())}),j))):O(A(a)):B()};return Object(s.jsx)("div",{className:"safe-box-keyboard",children:f.map((function(e,a){return Object(s.jsx)(V,{keyValue:e,disabled:t,onClickCallback:M},a)}))})};function X(){var e=Object(i.c)((function(e){return e.serialNumber}));return Object(s.jsxs)("div",{className:"safe-box-container",children:[Object(s.jsx)(o,{}),Object(s.jsx)(U,{}),Object(s.jsxs)("span",{className:"safe-box-container-serial-number",children:["S/N: ",e]})]})}var K=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(X,{})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))},J=a(5),W=a(2),q={currentPassword:"",password:"",isLocked:!1,status:"Ready",isLoading:!1,isIdle:!1,isServiceMode:!1,serialNumber:4815162342},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=t.payload,s=t.type;switch(s){case m:return Object(W.a)(Object(W.a)({},e),{},{password:e.password+a,isIdle:!1});case y:return Object(W.a)(Object(W.a)({},e),{},{status:"Locking",currentPassword:a,password:"",isLoading:!0});case v:return Object(W.a)(Object(W.a)({},e),{},{isLocked:!0,status:"Ready",password:"",isLoading:!1,isServiceMode:!1});case h:return Object(W.a)(Object(W.a)({},e),{},{status:"Unlocking",password:"",isLoading:!0});case k:return Object(W.a)(Object(W.a)({},e),{},{isLocked:!1,status:"Ready",password:"",isLoading:!1});case w:return Object(W.a)(Object(W.a)({},e),{},{status:"Error",password:"",isLoading:!1});case g:return Object(W.a)(Object(W.a)({},e),{},{isIdle:!0});case L:return Object(W.a)(Object(W.a)({},e),{},{isServiceMode:!0,status:"Service",password:""});case S:return Object(W.a)(Object(W.a)({},e),{},{status:"Validating",isLoading:!0,password:""});case E:return Object(W.a)(Object(W.a)({},e),{},{password:"",currentPassword:"",status:"Ready",isLoading:!1,isLocked:!1,isServiceMode:!1});default:return e}},H=a(24),Q=a(25),Y=Object(J.createStore)(z,Object(Q.composeWithDevTools)(Object(J.applyMiddleware)(H.a)));r.a.render(Object(s.jsx)(i.a,{store:Y,children:Object(s.jsx)(K,{})}),document.getElementById("root")),G()}},[[57,1,2]]]);
//# sourceMappingURL=main.b66b2bab.chunk.js.map