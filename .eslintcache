[{"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\index.js":"1","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\App.js":"2","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\reportWebVitals.js":"3","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\store\\reducer\\index.js":"4","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\store\\actions\\actions.js":"5","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\store\\action-types\\index.js":"6","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-container\\index.js":"7","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-display\\index.js":"8","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-keyboard\\index.js":"9","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-keyboard\\SafeBoxKey.js":"10","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\constants\\index.js":"11","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\services\\httpService.js":"12","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\utils\\helpers.js":"13"},{"size":811,"mtime":1611423625354,"results":"14","hashOfConfig":"15"},{"size":202,"mtime":1611352283101,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"17","hashOfConfig":"15"},{"size":2251,"mtime":1611591762396,"results":"18","hashOfConfig":"15"},{"size":2523,"mtime":1611591734354,"results":"19","hashOfConfig":"15"},{"size":652,"mtime":1611447567248,"results":"20","hashOfConfig":"15"},{"size":554,"mtime":1611589597195,"results":"21","hashOfConfig":"15"},{"size":669,"mtime":1611360586585,"results":"22","hashOfConfig":"15"},{"size":3122,"mtime":1611590721217,"results":"23","hashOfConfig":"15"},{"size":649,"mtime":1611590932389,"results":"24","hashOfConfig":"15"},{"size":351,"mtime":1611447608997,"results":"25","hashOfConfig":"15"},{"size":276,"mtime":1611432838522,"results":"26","hashOfConfig":"15"},{"size":1255,"mtime":1611590953731,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"55ah7i",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\index.js",[],["56","57"],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\App.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\reportWebVitals.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\store\\reducer\\index.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\store\\actions\\actions.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\store\\action-types\\index.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-container\\index.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-display\\index.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-keyboard\\index.js",["58","59"],"import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  keys,\r\n  SAFE_BOX_VALIDATE_PASSWORD_TIMEOUT,\r\n  SAFE_BOX_PASSWORD_LENGTH,\r\n  MASTER_CODE_PASSWORD_LENGTH,\r\n  SAFE_BOX_IDLE_TIMEOUT,\r\n  SERVICE_MODE_PASSWORD,\r\n  SAFE_BOX_LOCKING_TIMEOUT,\r\n} from \"../../constants\";\r\nimport {\r\n  setPassword,\r\n  setIdleState,\r\n  safeBoxError,\r\n  lockingAction,\r\n  unlockingAction,\r\n  activateServiceMode,\r\n  validateMasterCode,\r\n  safeBoxUnlocking,\r\n} from \"../../store/actions/actions\";\r\nimport SafeBoxKey from \"./SafeBoxKey\";\r\n\r\nconst SafeBoxKeyboard = () => {\r\n  const {\r\n    isLoading,\r\n    password,\r\n    isLocked,\r\n    currentPassword,\r\n    isServiceMode,\r\n    serialNumber,\r\n  } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [lockingTimer, setLockingTimer] = useState(null);\r\n  const [masterCodeTimer, setMasterCodeTimer] = useState(null);\r\n  const [timer, setTimer] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLockingTimer(\r\n      setTimeout(() => {\r\n        (password.length === SAFE_BOX_PASSWORD_LENGTH ||\r\n          password.length >= MASTER_CODE_PASSWORD_LENGTH) &&\r\n          !isLoading &&\r\n          lockUnlockBox();\r\n      }, SAFE_BOX_VALIDATE_PASSWORD_TIMEOUT)\r\n    );\r\n  }, [password]);\r\n\r\n  useEffect(() => {\r\n    setIdle();\r\n  }, []);\r\n\r\n  const setIdle = () => {\r\n    clearTimeout(timer);\r\n\r\n    setTimer(\r\n      setTimeout(() => {\r\n        dispatch(setIdleState());\r\n      }, SAFE_BOX_IDLE_TIMEOUT)\r\n    );\r\n  };\r\n\r\n  const addKey = async (value) => {\r\n    if (isLoading) return;\r\n\r\n    if (isServiceMode) {\r\n      dispatch(setPassword(value));\r\n      setIdle();\r\n\r\n      clearTimeout(masterCodeTimer);\r\n      setMasterCodeTimer(\r\n        setTimeout(() => {\r\n          dispatch(validateMasterCode(password, serialNumber));\r\n        }, SAFE_BOX_LOCKING_TIMEOUT)\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (password.length < SAFE_BOX_PASSWORD_LENGTH) {\r\n      setIdle();\r\n      dispatch(setPassword(value));\r\n    }\r\n\r\n    if (password.length === SAFE_BOX_PASSWORD_LENGTH && value === \"L\") {\r\n      clearTimeout(lockingTimer);\r\n      lockUnlockBox();\r\n    }\r\n  };\r\n\r\n  const serviceMode = () => {\r\n    dispatch(activateServiceMode());\r\n  };\r\n\r\n  const lockUnlockBox = () => {\r\n    if (password === SERVICE_MODE_PASSWORD && !isServiceMode && isLocked) {\r\n      serviceMode();\r\n      return;\r\n    }\r\n\r\n    if (!isLocked && !isServiceMode) {\r\n      dispatch(lockingAction(password));\r\n    } else if (isLocked && !isServiceMode) {\r\n      if (password === currentPassword) {\r\n        dispatch(unlockingAction(password));\r\n      } else {\r\n        dispatch(safeBoxUnlocking(password));\r\n        setTimeout(() => {\r\n          dispatch(safeBoxError());\r\n        }, SAFE_BOX_LOCKING_TIMEOUT);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"safe-box-keyboard\">\r\n      {keys.map((item, index) => (\r\n        <SafeBoxKey\r\n          key={index}\r\n          keyValue={item}\r\n          disabled={isLoading}\r\n          onClickCallback={addKey}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SafeBoxKeyboard;\r\n","C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\components\\safe-box-keyboard\\SafeBoxKey.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\constants\\index.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\services\\httpService.js",[],"C:\\Users\\My\\OneDrive\\Dokumenti\\Hotel-Safe-Box\\src\\utils\\helpers.js",[],{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":47,"column":6,"nodeType":"66","endLine":47,"endColumn":16,"suggestions":"67"},{"ruleId":"64","severity":1,"message":"68","line":51,"column":6,"nodeType":"66","endLine":51,"endColumn":8,"suggestions":"69"},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'isLoading' and 'lockUnlockBox'. Either include them or remove the dependency array.","ArrayExpression",["72"],"React Hook useEffect has a missing dependency: 'setIdle'. Either include it or remove the dependency array.",["73"],"no-global-assign","no-unsafe-negation",{"desc":"74","fix":"75"},{"desc":"76","fix":"77"},"Update the dependencies array to be: [isLoading, lockUnlockBox, password]",{"range":"78","text":"79"},"Update the dependencies array to be: [setIdle]",{"range":"80","text":"81"},[1280,1290],"[isLoading, lockUnlockBox, password]",[1338,1340],"[setIdle]"]